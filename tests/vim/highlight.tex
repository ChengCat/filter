\usemodule[vim]

\definevimtyping[python][numbering=yes, syntax=python]

\starttext

\startpython
def sum_upto(n)
    r = range(1, n+1)
    return sum(r)
\stoppython

\startpython[highlight={1,3}]
def sum_upto(n)
    r = range(1, n+1)
    return sum(r)
    whatever
\stoppython

\stoptext
