\usemodule[vim]

\definevimtyping[python][syntax=python, strip=on, space=on]
\startbuffer
\startpython
    def sum_upto(n)
        r = range(1, n+1)
        return sum(r)
\stoppython
\stopbuffer

\starttext

\getbuffer

\setupvimtyping[python][strip=off]
\getbuffer

\stoptext
