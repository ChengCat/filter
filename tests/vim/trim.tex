\usemodule[vim]

\definevimtyping[python][syntax=python, trimspaces=off, space=on]

\starttext

\startpython
    def sum_upto(n)
        r = range(1, n+1)
        return sum(r)
\stoppython

\stoptext
