\usemodule[filter]

\startbuffer[start]

---

\stopbuffer

\startbuffer[before]
# A Markdown buffer

\stopbuffer

\startbuffer[after]

---
\stopbuffer

\defineexternalfilter 
  [markdown]
  [filter={pandoc -w context -o \externalfilteroutputfile },
   bufferbefore={before,start},
   bufferafter=after]

\starttext
\startmarkdown
## Lists ##

Unordered (bulleted) lists use asterisks, pluses, and hyphens (`*`,
`+`, and `-`) as list markers. These three markers are
interchangeable. As an example, this:


    *   Candy.
    *   Gum.
    *   Booze.

gives:

*   Candy.
*   Gum.
*   Booze.
* This is a list
* that has **markdown** syntax
* does it _work_
\stopmarkdown
\stoptext
\endinput

